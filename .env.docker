# =================================================================
# SISTEMA ICMS - CONFIGURAÇÕES DOCKER (EXEMPLO)
# =================================================================
# Copie este arquivo para .env.docker e configure com seus valores

# -----------------------------------------------------------------
# AMBIENTE DE EXECUÇÃO
# -----------------------------------------------------------------
NODE_ENV=production

# -----------------------------------------------------------------
# CONFIGURAÇÕES DO BANCO DE DADOS MYSQL (DOCKER)
# -----------------------------------------------------------------
# Host do servidor MySQL (IP do host ou nome do container)
# Para container MySQL separado: use o nome do container
# Para banco no host: use o IP da máquina host
HOST=10.27.5.227

# Usuário do banco de dados (SEM aspas para Docker)
DB_USER=fecomercio

# Nome do banco de dados (SEM aspas para Docker)
DB_NAME=icms

# Porta do MySQL
DB_PORT=3306

# Senha do usuário do banco (SEM aspas para Docker)
PASSWORD=root

# -----------------------------------------------------------------
# URLs DA API E SITES
# -----------------------------------------------------------------
# URL base da API para download direto das planilhas ICMS
BASE_URL=https://www.confaz.fazenda.gov.br/boletim-arrecadacao/sigdef-1.xlsx

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE EMAIL/SMTP
# -----------------------------------------------------------------
# Servidor SMTP para envio de notificações
EXCHANGE_HOST=smtp.office365.com

# Porta do servidor SMTP (587 para TLS, 465 para SSL)
EXCHANGE_PORT=587

# Email remetente das notificações
MAIL_USERNAME=no-reply@es.senac.br

# Senha do email remetente
MAIL_PASSWORD=gHak8t%0Ad

# Email destinatário das notificações (separar múltiplos por vírgula)
NOTIFICATION_EMAIL=dadosconnect@es.senac.br

# -----------------------------------------------------------------
# CONFIGURAÇÕES DE AGENDAMENTO
# -----------------------------------------------------------------
# Configurações CRON para execução automática dos serviços
# Formato: "minuto hora dia mês dia_da_semana"
# Exemplos:
#   "0 2 1 * *" = Todo dia 1 do mês às 02:00
#   "30 14 * * 1" = Toda segunda-feira às 14:30
#   "0 */6 * * *" = A cada 6 horas

# Coleta ICMS - padrão: dia 5 de todo mês às 02:00
SCHEDULE_ICMS=0 2 5 * *

# -----------------------------------------------------------------
# METODOLOGIA DE PROCESSAMENTO
# -----------------------------------------------------------------
# Define como os dados serão inseridos no banco de dados
# Valores disponíveis:
#   'Incremental' = Mantém dados existentes, adiciona apenas novos períodos
#   'Truncate and Load' = Limpa toda a base de dados antes de inserir novos dados
# Padrão: 'Incremental' (recomendado para produção)
PROCESSING_METHOD=Incremental

# -----------------------------------------------------------------
# CONFIGURAÇÕES ESPECÍFICAS DOCKER
# -----------------------------------------------------------------
# Playwright configurado para usar browsers do host (preparado para futuro uso)
PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1

# Timezone para container
TZ=America/Sao_Paulo

# Node.js optimization for container
NODE_OPTIONS=--max-old-space-size=2048

# =================================================================
# INSTRUÇÕES DE USO
# =================================================================
# 1. Copie este arquivo para .env.docker:
#    cp .env.docker.example .env.docker
#
# 2. Configure os valores específicos do seu ambiente:
#    - HOST: IP do seu servidor MySQL
#    - DB_USER, DB_NAME, PASSWORD: credenciais do banco
#    - MAIL_*: configurações de email
#
# 3. IMPORTANTE: Remova as aspas duplas dos valores!
#    Correto:   HOST=10.27.4.136
#    Incorreto: HOST="10.27.4.136"
#
# 4. Execute o deploy:
#    .\scripts\deploy.ps1